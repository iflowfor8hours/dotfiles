[general]
accounts = FastMail
metadata = ~/Mail/.offlineimap
maxsyncaccounts = 1

# ui = quiet
ui = ttyui

[Account FastMail]
localrepository = LocalFM
remoterepository = RemoteFM
autorefresh = 5
quick = 5
presynchook = date -Is
postsynchook = /usr/bin/notmuch new
status_backend = sqlite

[Repository LocalFM]
type = Maildir
localfolders = ~/Mail/fastmail
restoreatime = no
createfolders = True

[Repository RemoteFM]
type = IMAP
remotehost = mail.messagingengine.com
remoteuser = matthewurbanski@fastmail.com
remotepassfile = ~/.config/offlineimap/matt.iflowfor8hours.info
ssl = yes
cert_fingerprint = 958b1601563aef92607a41eb5bad22e3cace8431
holdconnectionopen = yes
expunge = no
folderfilter = lambda foldername: foldername not in ['INBOX.Trash']
maxconnections = 3
createfolders = False

[Account riseup]
localrepository = localriseup
remoterepository = remoteriseup
autorefresh = 10

[Repository localriseup]
type = Maildir
localfolders = ~/Mail/riseup

[Repository remoteriseup]
type = IMAP
ssl = yes
remotehost = mail.riseup.net
remoteuser = mxs@riseup.net
cert_fingerprint = bf27ee9ea504355fc9e933e7b624082329ea1003
remotepassfile = ~/.config/offlineimap/mxs.riseup.net
folderfilter = lambda foldername: foldername in ['INBOX','INBOX.Sent', 'INBOX.Drafts', 'INBOX.Mistakes']
